<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HTML 5 Boilerplate</title>
    <link rel="stylesheet" href="/css/marvel.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="preload" href="https://use.typekit.net/nyd5ydj.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://use.typekit.net/nyd5ydj.css"></noscript>

</head>

  <body>
    <div class="page-wrapper">
        <main class="main-wrapper">

            <!-- Start Nav Section-->
            <nav class="section_nav"> 
                <div class="nav_contain u-container-main">
                    <div class="nav_component">
                        <ul class="nav_list is--nav_list1">
                            <li class="nav_item"><a href="#">Heros</a></li>
                            <li class="nav_item"><a href="#">Villians</a></li>
                        </ul>
                        <div class="nav_logo">
                            <img src="/img/marvel-logo.png">
                        </div>
                        <ul class="nav_list is--nav_list2">
                            <li class="nav_item"><a href="#">X-Men</a></li>
                            <li class="nav_item"><a href="#">Avengers</a></li>
                        </ul>
                    </div>
                </div>
            </nav>
            <!-- End Nav Section-->

            <!-- Start Hero Section-->
            <section class="section_hero">
                <div class="hero_contain u-container-main">
                    <div class="marvel-hero_component u-text-white u-round-corners">
                        <h3 class="subheading">Marvel Universe</h4>
                        <h1 class="font-style-h1">Marvel superheroes</h1>
                         <p>Here is a list of superheroes</p>
                         <a href="#" class="btn-primary">Learn more</a>
                         <img class="marvel-hero_img" src="/img/comic-hero.webp" alt="marvel comic book">
                    </div>
                </div>
            </section>
            <!-- End Hero Section-->
            
            <!-- Start Character Search Section-->

            <section class="character-search_section u-section-space-main">
                <div class="character-search_container u-container-main">
                    <div class="character-search_component u-grid-autofit-2colstart">
                        <div class="character-search_form-component u-align-self-center">
                            <form id="character-search_form">
                                <label for="character-search_input" class="u-text-style-h2" id="character-label">What's your favorite Marvel Superhero?</label>
                                <input type="text" id="character-search_input" name="character-search_name" placeholder="e.g. Hulk" required />
                                <button type="submit" id="character-search_submit">Search</button>
                            </form>
                        </div>
                        <div class="character-info_component">
                            <img id="character-info_image" src="/img/mystery.webp"  alt="">
                            <div class ="character-info_text-component">
                                <h2 id="character-info_name" class="font-style-h2">Who Will it Be?</h2>
                                <p id="character-info_description"></p>
                            </div>
                          </div>
                    </div>
                    
                </div>
            </section>
            <!-- End Character Search Section-->

            <!-- Start Card Section-->

            <section class="3card_section u-background-dark u-section-space-main">
                <div class="3card_container u-container-main">
                    <div class="3card_component u-grid-autofit">
                        <div class="character-card_component u-text-align-center">
                            <img class="character-card_img" src="/img/dr-doom.webp" alt="">
                            <div class="character-card_text-component">
                                <h2 class="characterCard_title u-text-style-h2">Dr. Doom</h2>
                                <p class="characterCard_description u-text-style-p">This is the placeholder text</p>
                            </div>
                        </div>
                        <div class="character-card_component u-text-align-center">
                            <img class="character-card_img" src="/img/dr-doom.webp" alt="">
                            <div class="character-card_text-component">
                                <h2 class="characterCard_title u-text-style-h2">Dr. Doom</h2>
                                <p class="characterCard_description u-text-style-p">This is the placeholder text</p>
                            </div>
                        </div>
                        <div class="character-card_component u-text-align-center">
                            <img class="character-card_img" src="/img/dr-doom.webp" alt="">
                            <div class="character-card_text-component">
                                <h2 class="characterCard_title u-text-style-h2">Dr. Doom</h2>
                                <p class="characterCard_description u-text-style-p">This is the placeholder text</p>
                            </div>
                        </div>
                        <div class="character-card_component u-text-align-center">
                            <img class="character-card_img" src="/img/dr-doom.webp" alt="">
                            <div class="character-card_text-component">
                                <h2 class="characterCard_title u-text-style-h2">Dr. Doom</h2>
                                <p class="characterCard_description u-text-style-p">This is the placeholder text</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <!-- End Character Section-->

        </main>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script>
        const publicKey = "0e695b539c9633587c4e544807cf7721";
        const privateKey = "8efb7c121a5657cc3d7b444122366d64245c85e4";
      
        document.getElementById("character-search_form").addEventListener("submit", function (e) {
          e.preventDefault(); // Stop form from reloading page
      
          const characterInput = document.getElementById("character-search_input").value.trim();
          if (!characterInput) return;
      
          const ts = new Date().getTime().toString();
          const hash = CryptoJS.MD5(ts + privateKey + publicKey).toString();
      
          const url = `https://gateway.marvel.com/v1/public/characters?name=${encodeURIComponent(characterInput)}&ts=${ts}&apikey=${publicKey}&hash=${hash}`;
      
          fetch(url)
            .then(response => response.json())
            .then(data => {
              const character = data.data.results[0];
                if (!character) {
                    document.getElementById("character-search_name").textContent = "Character not found.";
                    document.getElementById("character-description").textContent = "";
                    document.getElementById("character-image").style.display = "none";
                    return;
                }
                    // Fill in existing HTML elements
                    document.getElementById("character-info_name").textContent = character.name;
                    document.getElementById("character-info_description").textContent = character.description || "No description available.";
                    document.getElementById("character-info_image").src = `${character.thumbnail.path}.${character.thumbnail.extension}`;
                    document.getElementById("character-info_image").alt = character.name;
                    document.getElementById("character-info_image").style.display = "block";
                })
                .catch(error => {
                    console.error("Marvel API error:", error);
                    document.getElementById("character-search_name").textContent = "Error loading character.";
                });
        });
      </script>

  </body>
</html>